{% extends 'client/navbar.html' %}

{% block content %}

    <br>

    <div class="container bg-white shadow-md p-4 form-layout text-center">

        <h5> Subscription plans </h5>

    </div>

    <br> 

    <div class="row">

        <div class="container bg-white shadow-md p-4 form-layout text-center">

            <h5> Standard Subscription </h5>

            <hr>
            
            <p> Join us for standard access here: </p>

            <strong> (Limited article access) </strong>

            <hr>

            <div id="paypal-button-container-P-2RU37377SR376025BM35NZGQ"></div>

            <!-- Client ID -->
            <script src="https://www.paypal.com/sdk/js?client-id=AQIi8TSkgHrHVbuKx36Xh0l2XDkH7u-P8qwSKLklrEQ73pgGInVlZRRNC9r3i1qJowlSibN1o9PFFOGD&vault=true&intent=subscription" data-sdk-integration-source="button-factory"></script>
            
            <script>
                paypal.Buttons({
                    style: {
                        shape: 'pill',
                        color: 'silver',
                        layout: 'vertical',
                        label: 'subscribe'
                    },
                    createSubscription: function(data, actions) {
                        return actions.subscription.create({
                        /* Creates the subscription */
                        plan_id: 'P-2RU37377SR376025BM35NZGQ'
                        });
                    },
                    onApprove: function(data, actions) {
                        var current_url = '/client/create-subscription/' + data.subscriptionID + "/Standard"
                        window.open(current_url, '_self')
                        //alert(data.subscriptionID); // You can add optional success message for the subscriber here
                    }
                }).render('#paypal-button-container-P-2RU37377SR376025BM35NZGQ'); // Renders the PayPal button
            </script>

        </div>

        <div class="container bg-white shadow-md p-4 form-layout text-center">

            <h5> Premium Subscription </h5>

            <hr>
            
            <p> Elevate your experiance with premium here: </p>

            <strong> (Full article access) </strong>

            <hr>
            
            <!-- Premium plan logic -->

            <div id="paypal-button-container-P-4HF936665H352344KM35OBIY"></div>
         
            <script>
                paypal.Buttons({
                    style: {
                        shape: 'pill',
                        color: 'gold',
                        layout: 'vertical',
                        label: 'subscribe'
                    },
                    createSubscription: function(data, actions) {
                        return actions.subscription.create({
                        /* Creates the subscription */
                        plan_id: 'P-4HF936665H352344KM35OBIY'
                        });
                    },
                    onApprove: function(data, actions) {
                        var current_url = '/client/create-subscription/' + data.subscriptionID + "/Premium"
                        window.open(current_url, '_self')
                        //alert(data.subscriptionID); // You can add optional success message for the subscriber here
                    }
                }).render('#paypal-button-container-P-4HF936665H352344KM35OBIY'); // Renders the PayPal button
            </script>

        </div>

    </div>

{% endblock %}